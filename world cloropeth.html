<!DOCTYPE html>
<meta charset="utf-8">
<body>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>
  <script src="http://datamaps.github.io/scripts/datamaps.world.min.js?v=1"></script>  
  <svg class="chart" width="420" height="120" style="position:absolute;left:850px;top:10px">
    <g transform="translate(0,0)">
        <rect width="19" height="19" fill="#CB0000"></rect>
        <text x="25" y="14" font-family="sans-serif" font-size="12px" fill="dark gray">6</text>
    </g>
    <g transform="translate(0,20)">
        <rect width="19" height="19" fill="#DE3F01"></rect>
        <text x="25" y="14" font-family="sans-serif" font-size="12px" fill="dark gray">5</text>
    </g>
    <g transform="translate(0,40)">
        <rect width="19" height="19" fill="#F07E02"></rect>
        <text x="25" y="14" font-family="sans-serif" font-size="12px" fill="dark gray">4</text>
    </g>
    <g transform="translate(0,60)">
        <rect width="19" height="19" fill="#F6AB03"></rect>
        <text x="25" y="14" font-family="sans-serif" font-size="12px" fill="dark gray">3</text>
    </g>
    <g transform="translate(0,80)">
        <rect width="19" height="19" fill="#FBD804"></rect>
        <text x="25" y="14" font-family="sans-serif" font-size="12px" fill="dark gray">2</text>
    </g>
    <g transform="translate(0,100)">
        <rect width="19" height="19" fill="#FBF844"></rect>
        <text x="25" y="14" font-family="sans-serif" font-size="12px" fill="dark gray">1</text>
    </g>
</svg>
<div id="map" style="width: 800px; height: 550px;"/>

<script>
    var map = new Datamap({
        element: document.getElementById('map'),
        projection: 'mercator',
        fills: {
            defaultFill: "#DDD",
            6: "#CB0000",
            5: "#DE3F01",
            4: "#F07E02",
            3: "#F6AB03",
            2: "#FBD804",
            1: "#FBF844"
        },
        data: {
            SRB: { fillKey: func() },
            CHE: { fillKey: 5 },
            ESP: { fillKey: 4 },
            GBR: { fillKey: 3 },
            USA: { fillKey: 2 },
            ARG: { fillKey: 1 }
        }
    });

    function func() {
        return 6;
    }
</script>
</body>